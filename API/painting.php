<?php
$data = [
    [
        "ID" => 1,
        "Type" => 'The Print',
        "Title" => "Trumpet, 1984",
        "Artist" =>"Jean-Michel Basquiat",
        "Price" => 18,
        "Size" => "12 x 12",
        "img" => "http://localhost:80/images/1.jpg"
    ],
    [
        "ID" => 2,
        "Type" => 'The Print',
        "Title" => "The Starry Night, June 1889",
        "Artist" =>"Vincent van Gogh",
        "Price" => 22,
        "Size" => "16 x 16",
        "img" => "http://localhost:80/images/2.jpg"
    ],
    [
        "ID" => 3,
        "Type" => 'The Print',
        "Title" => "April in Paris",
        "Artist" =>"Brent Heighton",
        "Price" => 15,
        "Size" => "16 x 12",
        "img" => "http://localhost:80/images/3.jpg"
    ],
    [
        "ID" => 4,
        "Type" => 'The Print',
        "Title" => "The Great Wave off Kanagawa",
        "Artist" =>"Katsushika Hokusai",
        "Price" => 15,
        "Size" => "18 x 12",
        "img" => "http://localhost:80/images/4.jpg"
    ],
    [
        "ID" => 5,
        "Type" => 'The Print',
        "Title" => "Untitled, 1981",
        "Artist" =>"Jean-Michel Basquiat",
        "Price" => 18,
        "Size" => "12 x 12",
        "img" => "http://localhost:80/images/5.jpg"
    ],
    [
        "ID" => 6,
        "Type" => 'The Print',
        "Title" => "Chicken for Dinner",
        "Artist" =>" Lucia Heffernan",
        "Price" => 30,
        "Size" => "18 x 24",
        "img" => "http://localhost:80/images/6.jpg"
    ],
    [
        "ID" => 7,
        "Type" => 'The Print',
        "Title" => "Pop Shop (DJ)",
        "Artist" =>"Keith Haring",
        "Price" => 15,
        "Size" => "16 x 12",
        "img" => "http://localhost:80/images/7.jpg"
    ],
    [
        "ID" => 8,
        "Type" => 'The Print',
        "Title" => "Upward",
        "Artist" =>"Jazzberry Blue",
        "Price" => 15,
        "Size" => "12 x 12",
        "img" => "http://localhost:80/images/8.jpg"
    ],
    [
        "ID" => 9,
        "Type" => 'The Print',
        "Title" => "End Of Winter",
        "Artist" =>"Leonid Afremov",
        "Price" => 15,
        "Size" => "16 x 16",
        "img" => "http://localhost:80/images/9.jpg"
    ],
    [
        "ID" => 1,
        "Type" => 'The Print',
        "Title" => "Trumpet, 1984",
        "Artist" =>"Jean-Michel Basquiat",
        "Price" => 18,
        "Size" => "12 x 12",
        "img" => "http://localhost:80/images/1.jpg"
    ],
    [
        "ID" => 2,
        "Type" => 'The Print',
        "Title" => "The Starry Night, June 1889",
        "Artist" =>"Vincent van Gogh",
        "Price" => 22,
        "Size" => "16 x 16",
        "img" => "http://localhost:80/images/2.jpg"
    ],
    [
        "ID" => 3,
        "Type" => 'The Print',
        "Title" => "April in Paris",
        "Artist" =>"Brent Heighton",
        "Price" => 15,
        "Size" => "16 x 12",
        "img" => "http://localhost:80/images/3.jpg"
    ],
    [
        "ID" => 4,
        "Type" => 'The Print',
        "Title" => "The Great Wave off Kanagawa",
        "Artist" =>"Katsushika Hokusai",
        "Price" => 15,
        "Size" => "18 x 12",
        "img" => "http://localhost:80/images/4.jpg"
    ],
    [
        "ID" => 5,
        "Type" => 'The Print',
        "Title" => "Untitled, 1981",
        "Artist" =>"Jean-Michel Basquiat",
        "Price" => 18,
        "Size" => "12 x 12",
        "img" => "http://localhost:80/images/5.jpg"
    ],
    [
        "ID" => 6,
        "Type" => 'The Print',
        "Title" => "Chicken for Dinner",
        "Artist" =>" Lucia Heffernan",
        "Price" => 30,
        "Size" => "18 x 24",
        "img" => "http://localhost:80/images/6.jpg"
    ],
    [
        "ID" => 7,
        "Type" => 'The Print',
        "Title" => "Pop Shop (DJ)",
        "Artist" =>"Keith Haring",
        "Price" => 15,
        "Size" => "16 x 12",
        "img" => "http://localhost:80/images/7.jpg"
    ],
    [
        "ID" => 8,
        "Type" => 'The Print',
        "Title" => "Upward",
        "Artist" =>"Jazzberry Blue",
        "Price" => 15,
        "Size" => "12 x 12",
        "img" => "http://localhost:80/images/8.jpg"
    ],
    [
        "ID" => 9,
        "Type" => 'The Print',
        "Title" => "End Of Winter",
        "Artist" =>"Leonid Afremov",
        "Price" => 15,
        "Size" => "16 x 16",
        "img" => "http://localhost:80/images/9.jpg"
    ],
    [
        "ID" => 1,
        "Type" => 'The Print',
        "Title" => "Trumpet, 1984",
        "Artist" =>"Jean-Michel Basquiat",
        "Price" => 18,
        "Size" => "12 x 12",
        "img" => "http://localhost:80/images/1.jpg"
    ],
    [
        "ID" => 2,
        "Type" => 'The Print',
        "Title" => "The Starry Night, June 1889",
        "Artist" =>"Vincent van Gogh",
        "Price" => 22,
        "Size" => "16 x 16",
        "img" => "http://localhost:80/images/2.jpg"
    ],
    [
        "ID" => 3,
        "Type" => 'The Print',
        "Title" => "April in Paris",
        "Artist" =>"Brent Heighton",
        "Price" => 15,
        "Size" => "16 x 12",
        "img" => "http://localhost:80/images/3.jpg"
    ],
    [
        "ID" => 4,
        "Type" => 'The Print',
        "Title" => "The Great Wave off Kanagawa",
        "Artist" =>"Katsushika Hokusai",
        "Price" => 15,
        "Size" => "18 x 12",
        "img" => "http://localhost:80/images/4.jpg"
    ],
    [
        "ID" => 5,
        "Type" => 'The Print',
        "Title" => "Untitled, 1981",
        "Artist" =>"Jean-Michel Basquiat",
        "Price" => 18,
        "Size" => "12 x 12",
        "img" => "http://localhost:80/images/5.jpg"
    ],
    [
        "ID" => 6,
        "Type" => 'The Print',
        "Title" => "Chicken for Dinner",
        "Artist" =>" Lucia Heffernan",
        "Price" => 30,
        "Size" => "18 x 24",
        "img" => "http://localhost:80/images/6.jpg"
    ],
    [
        "ID" => 7,
        "Type" => 'The Print',
        "Title" => "Pop Shop (DJ)",
        "Artist" =>"Keith Haring",
        "Price" => 15,
        "Size" => "16 x 12",
        "img" => "http://localhost:80/images/7.jpg"
    ],
    [
        "ID" => 8,
        "Type" => 'The Print',
        "Title" => "Upward",
        "Artist" =>"Jazzberry Blue",
        "Price" => 15,
        "Size" => "12 x 12",
        "img" => "http://localhost:80/images/8.jpg"
    ],
    [
        "ID" => 9,
        "Type" => 'The Print',
        "Title" => "End Of Winter",
        "Artist" =>"Leonid Afremov",
        "Price" => 15,
        "Size" => "16 x 16",
        "img" => "http://localhost:80/images/9.jpg"
    ],
    [
        "ID" => 1,
        "Type" => 'The Print',
        "Title" => "Trumpet, 1984",
        "Artist" =>"Jean-Michel Basquiat",
        "Price" => 18,
        "Size" => "12 x 12",
        "img" => "http://localhost:80/images/1.jpg"
    ],
    [
        "ID" => 2,
        "Type" => 'The Print',
        "Title" => "The Starry Night, June 1889",
        "Artist" =>"Vincent van Gogh",
        "Price" => 22,
        "Size" => "16 x 16",
        "img" => "http://localhost:80/images/2.jpg"
    ],
    [
        "ID" => 3,
        "Type" => 'The Print',
        "Title" => "April in Paris",
        "Artist" =>"Brent Heighton",
        "Price" => 15,
        "Size" => "16 x 12",
        "img" => "http://localhost:80/images/3.jpg"
    ],
    [
        "ID" => 4,
        "Type" => 'The Print',
        "Title" => "The Great Wave off Kanagawa",
        "Artist" =>"Katsushika Hokusai",
        "Price" => 15,
        "Size" => "18 x 12",
        "img" => "http://localhost:80/images/4.jpg"
    ],
    [
        "ID" => 5,
        "Type" => 'The Print',
        "Title" => "Untitled, 1981",
        "Artist" =>"Jean-Michel Basquiat",
        "Price" => 18,
        "Size" => "12 x 12",
        "img" => "http://localhost:80/images/5.jpg"
    ],
    [
        "ID" => 6,
        "Type" => 'The Print',
        "Title" => "Chicken for Dinner",
        "Artist" =>" Lucia Heffernan",
        "Price" => 30,
        "Size" => "18 x 24",
        "img" => "http://localhost:80/images/6.jpg"
    ],
    [
        "ID" => 7,
        "Type" => 'The Print',
        "Title" => "Pop Shop (DJ)",
        "Artist" =>"Keith Haring",
        "Price" => 15,
        "Size" => "16 x 12",
        "img" => "http://localhost:80/images/7.jpg"
    ],
    [
        "ID" => 8,
        "Type" => 'The Print',
        "Title" => "Upward",
        "Artist" =>"Jazzberry Blue",
        "Price" => 15,
        "Size" => "12 x 12",
        "img" => "http://localhost:80/images/8.jpg"
    ],
    [
        "ID" => 9,
        "Type" => 'The Print',
        "Title" => "End Of Winter",
        "Artist" =>"Leonid Afremov",
        "Price" => 15,
        "Size" => "16 x 16",
        "img" => "http://localhost:80/images/9.jpg"
    ],
    [
        "ID" => 4,
        "Type" => 'The Print',
        "Title" => "The Great Wave off Kanagawa",
        "Artist" =>"Katsushika Hokusai",
        "Price" => 15,
        "Size" => "18 x 12",
        "img" => "http://localhost:80/images/4.jpg"
    ],
    [
        "ID" => 5,
        "Type" => 'The Print',
        "Title" => "Untitled, 1981",
        "Artist" =>"Jean-Michel Basquiat",
        "Price" => 18,
        "Size" => "12 x 12",
        "img" => "http://localhost:80/images/5.jpg"
    ],
    [
        "ID" => 6,
        "Type" => 'The Print',
        "Title" => "Chicken for Dinner",
        "Artist" =>" Lucia Heffernan",
        "Price" => 30,
        "Size" => "18 x 24",
        "img" => "http://localhost:80/images/6.jpg"
    ],
    [
        "ID" => 7,
        "Type" => 'The Print',
        "Title" => "Pop Shop (DJ)",
        "Artist" =>"Keith Haring",
        "Price" => 15,
        "Size" => "16 x 12",
        "img" => "http://localhost:80/images/7.jpg"
    ],
    [
        "ID" => 8,
        "Type" => 'The Print',
        "Title" => "Upward",
        "Artist" =>"Jazzberry Blue",
        "Price" => 15,
        "Size" => "12 x 12",
        "img" => "http://localhost:80/images/8.jpg"
    ],
    [
        "ID" => 9,
        "Type" => 'The Print',
        "Title" => "End Of Winter",
        "Artist" =>"Leonid Afremov",
        "Price" => 15,
        "Size" => "16 x 16",
        "img" => "http://localhost:80/images/9.jpg"
    ],
    [
        "ID" => 3,
        "Type" => 'The Print',
        "Title" => "April in Paris",
        "Artist" =>"Brent Heighton",
        "Price" => 15,
        "Size" => "16 x 12",
        "img" => "http://localhost:80/images/3.jpg"
    ],
    [
        "ID" => 4,
        "Type" => 'The Print',
        "Title" => "The Great Wave off Kanagawa",
        "Artist" =>"Katsushika Hokusai",
        "Price" => 15,
        "Size" => "18 x 12",
        "img" => "http://localhost:80/images/4.jpg"
    ],
    [
        "ID" => 5,
        "Type" => 'The Print',
        "Title" => "Untitled, 1981",
        "Artist" =>"Jean-Michel Basquiat",
        "Price" => 18,
        "Size" => "12 x 12",
        "img" => "http://localhost:80/images/5.jpg"
    ],
    [
        "ID" => 6,
        "Type" => 'The Print',
        "Title" => "Chicken for Dinner",
        "Artist" =>" Lucia Heffernan",
        "Price" => 30,
        "Size" => "18 x 24",
        "img" => "http://localhost:80/images/6.jpg"
    ],
    [
        "ID" => 3,
        "Type" => 'The Print',
        "Title" => "April in Paris",
        "Artist" =>"Brent Heighton",
        "Price" => 15,
        "Size" => "16 x 12",
        "img" => "http://localhost:80/images/3.jpg"
    ],
    [
        "ID" => 4,
        "Type" => 'The Print',
        "Title" => "The Great Wave off Kanagawa",
        "Artist" =>"Katsushika Hokusai",
        "Price" => 15,
        "Size" => "18 x 12",
        "img" => "http://localhost:80/images/4.jpg"
    ],
    [
        "ID" => 5,
        "Type" => 'The Print',
        "Title" => "Untitled, 1981",
        "Artist" =>"Jean-Michel Basquiat",
        "Price" => 18,
        "Size" => "12 x 12",
        "img" => "http://localhost:80/images/5.jpg"
    ],
    [
        "ID" => 6,
        "Type" => 'The Print',
        "Title" => "Chicken for Dinner",
        "Artist" =>" Lucia Heffernan",
        "Price" => 30,
        "Size" => "18 x 24",
        "img" => "http://localhost:80/images/6.jpg"
    ],
    
];
$exclusives = [
    [
        "ID" => 9,
        "Type" => 'The Print',
        "Title" => "End Of Winter",
        "Artist" =>"Leonid Afremov",
        "Price" => 15,
        "Size" => "16 x 16",
        "img" => "http://localhost:80/images/9.jpg"
    ],
    [
        "ID" => 3,
        "Type" => 'The Print',
        "Title" => "April in Paris",
        "Artist" =>"Brent Heighton",
        "Price" => 15,
        "Size" => "16 x 12",
        "img" => "http://localhost:80/images/3.jpg"
    ],
    [
        "ID" => 4,
        "Type" => 'The Print',
        "Title" => "The Great Wave off Kanagawa",
        "Artist" =>"Katsushika Hokusai",
        "Price" => 15,
        "Size" => "18 x 12",
        "img" => "http://localhost:80/images/4.jpg"
    ],
    [
        "ID" => 5,
        "Type" => 'The Print',
        "Title" => "Untitled, 1981",
        "Artist" =>"Jean-Michel Basquiat",
        "Price" => 18,
        "Size" => "12 x 12",
        "img" => "http://localhost:80/images/5.jpg"
    ],
    [
        "ID" => 6,
        "Type" => 'The Print',
        "Title" => "Chicken for Dinner",
        "Artist" =>" Lucia Heffernan",
        "Price" => 30,
        "Size" => "18 x 24",
        "img" => "http://localhost:80/images/6.jpg"
    ],
    [
        "ID" => 3,
        "Type" => 'The Print',
        "Title" => "April in Paris",
        "Artist" =>"Brent Heighton",
        "Price" => 15,
        "Size" => "16 x 12",
        "img" => "http://localhost:80/images/3.jpg"
    ],
    [
        "ID" => 4,
        "Type" => 'The Print',
        "Title" => "The Great Wave off Kanagawa",
        "Artist" =>"Katsushika Hokusai",
        "Price" => 15,
        "Size" => "18 x 12",
        "img" => "http://localhost:80/images/4.jpg"
    ],
    [
        "ID" => 5,
        "Type" => 'The Print',
        "Title" => "Untitled, 1981",
        "Artist" =>"Jean-Michel Basquiat",
        "Price" => 18,
        "Size" => "12 x 12",
        "img" => "http://localhost:80/images/5.jpg"
    ],
    [
        "ID" => 6,
        "Type" => 'The Print',
        "Title" => "Chicken for Dinner",
        "Artist" =>" Lucia Heffernan",
        "Price" => 30,
        "Size" => "18 x 24",
        "img" => "http://localhost:80/images/6.jpg"
    ],
];

header("Access-Control-Allow-Origin: *");
header("Access-Control-Allow-Methods: GET,PUT,POST,DELETE,PATCH,OPTIONS");
header("Access-Control-Allow-Headers:  Content-Type,authorization");
header('Content-Type: application/json');
if($_SERVER['REQUEST_METHOD'] === 'GET') {
    global $data;
    global $exclusives;
    $page = $_GET['page']-1;
    $filter = null;
    $sort = null;
    
    $array = $data;
    if(array_key_exists('filter',$_GET)){
        $filter = $_GET['filter'];
    }
    if(array_key_exists('sort',$_GET)){
        $sort = $_GET['sort'];
    }
    if($filter && $filter == 'exclusive'){
        $array = $exclusives;
    }

    if($sort){
        if($sort == 'ltoh'){
            usort($array,"compareByPriceLTH");
        }elseif($sort == 'htol'){
            usort($array,"compareByPriceHTL");
        }
    }

    $data_size = count($array);
    $from = $page * 12;
    $to = $from + 12;
    $max_page = ceil($data_size / 12);
    echo json_encode([
        "max_page" =>$max_page ,
        "data"=>array_slice($array,$from ,12)
    ]);
}

function compareByPriceHTL($item1 , $item2){
    return $item2['Price'] - $item1['Price'];
}
function compareByPriceLTH($item1 , $item2){
    return $item1['Price'] - $item2['Price'];
}
?>